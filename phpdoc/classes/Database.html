<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>Frisby Social Engine » \Database</title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">Frisby Social Engine</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Packages</a></li>
<li><a href="../packages/Default.html"><i class="icon-folder-open"></i> Default</a></li>
<li><a href="../packages/frisby.html"><i class="icon-folder-open"></i> frisby</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">0</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">0</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<span class="btn-group visibility" data-toggle="buttons-checkbox"><button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited active" title="Show inherited elements">Inherited</button></span><div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
<ul class="side-nav nav nav-list">
<li class="nav-header">
<i class="icon-custom icon-method"></i> Methods
                    <ul>
<li class="method public "><a href="#method_add" title="add :: Inserts data into the database."><span class="description">Inserts data into the database.</span><pre>add()</pre></a></li>
<li class="method public "><a href="#method_connect" title="connect :: Connects to the database."><span class="description">Connects to the database.</span><pre>connect()</pre></a></li>
<li class="method public "><a href="#method_disconnect" title="disconnect :: Disconnects from the database."><span class="description">Disconnects from the database.</span><pre>disconnect()</pre></a></li>
<li class="method public "><a href="#method_fetchStructure" title="fetchStructure :: Fetches the structure of a relation."><span class="description">Fetches the structure of a relation.</span><pre>fetchStructure()</pre></a></li>
<li class="method public "><a href="#method_get" title="get :: Fetches data from the database."><span class="description">Fetches data from the database.</span><pre>get()</pre></a></li>
<li class="method public "><a href="#method_getPrefix" title="getPrefix :: Fetches the database prefix."><span class="description">Fetches the database prefix.</span><pre>getPrefix()</pre></a></li>
<li class="method public "><a href="#method_query" title="query :: Executes a user-specified query on the database."><span class="description">Executes a user-specified query on the database.</span><pre>query()</pre></a></li>
<li class="method public "><a href="#method_remove" title="remove :: Deletes data from the database."><span class="description">Deletes data from the database.</span><pre>remove()</pre></a></li>
<li class="method public "><a href="#method_update" title="update :: Updates data in the database."><span class="description">Updates data in the database.</span><pre>update()</pre></a></li>
</ul>
</li>
<li class="nav-header">
<i class="icon-custom icon-property"></i> Properties
                    <ul></ul>
</li>
<li class="nav-header private">» Private
                    <ul>
<li class="property private "><a href="#property_con" title="$con :: The database connection object."><span class="description">The database connection object.</span><pre>$con</pre></a></li>
<li class="property private "><a href="#property_prefix" title="$prefix :: The database prefix."><span class="description">The database prefix.</span><pre>$prefix</pre></a></li>
</ul>
</li>
</ul>
</div>
<div class="span8">
<a id="\Database"></a><ul class="breadcrumb">
<li>
<a href="../index.html"><i class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li><a href="../namespaces/global.html">global</a></li>
<li class="active">
<span class="divider">\</span><a href="../classes/Database.html">Database</a>
</li>
</ul>
<div class="element class">
<p class="short_description">An instance of this class represents a Database helper to manage database operations.</p>
<div class="details">
<div class="long_description"><pre><code>require_once('Database.php');

Database::connect();
</code></pre></div>
<table class="table table-bordered">
<tr>
<th>package</th>
<td><a href="../packages/frisby.core.html">frisby\core</a></td>
</tr>
<tr>
<th>category</th>
<td>PHP</td>
</tr>
<tr>
<th>author</th>
<td><a href="mailto:das.rajdeep97@gmail.com">Rajdeep Das</a></td>
</tr>
<tr>
<th>copyright</th>
<td>Copyright 2012 Rajdeep Das</td>
</tr>
<tr>
<th>license</th>
<td><a href="http://www.gnu.org/licenses/gpl.txt">The GNU General Public License</a></td>
</tr>
<tr>
<th>version</th>
<td>GIT: v1.0</td>
</tr>
<tr>
<th>link</th>
<td><a href="https://github.com/dasrajdeep/frisby">https://github.com/dasrajdeep/frisby</a></td>
</tr>
<tr>
<th>since</th>
<td>Class available since Release 1.0</td>
</tr>
</table>
<h3>
<i class="icon-custom icon-method"></i> Methods</h3>
<a id="method_add"></a><div class="element clickable method public method_add" data-toggle="collapse" data-target=".method_add .collapse">
<h2>Inserts data into the database.</h2>
<pre>add(string $table, string[] $fields, string[] $data) : boolean</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>The method accepts a table name as the first argument.
The second argument should be a string array containing the field names.
The third argument should also be a string array containing the values of the fields.
Note that the indices of the fields in the first array and the their respective values in
the second array should coincide.
The method returns the value returned by the mysql_query() function.</p>

<pre><code>$cols=array('col_1','col_2');
$vals=array('val_1','val_2');
Database::add('table_name',$cols,$vals);
</code></pre></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$table</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$fields</h4>
<code>string[]</code>
</div>
<div class="subelement argument">
<h4>$data</h4>
<code>string[]</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_connect"></a><div class="element clickable method public method_connect" data-toggle="collapse" data-target=".method_connect .collapse">
<h2>Connects to the database.</h2>
<pre>connect() : boolean</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Connects to the database server and selects the specified database.
The credentials used here i.e. hostname,username,password are read from the configuration file 'database.inc'.
This file needs to be configured before the software runs properly.</p>

<pre><code>Database::connect();
</code></pre></div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_disconnect"></a><div class="element clickable method public method_disconnect" data-toggle="collapse" data-target=".method_disconnect .collapse">
<h2>Disconnects from the database.</h2>
<pre>disconnect() </pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"><p>Disconnects from the database server and releases the handler.</p>

<pre><code>Database::disconnect();
</code></pre></div></div></div>
</div>
<a id="method_fetchStructure"></a><div class="element clickable method public method_fetchStructure" data-toggle="collapse" data-target=".method_fetchStructure .collapse">
<h2>Fetches the structure of a relation.</h2>
<pre>fetchStructure(string $table) : mixed[]</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$table</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed[]</code></div>
</div></div>
</div>
<a id="method_get"></a><div class="element clickable method public method_get" data-toggle="collapse" data-target=".method_get .collapse">
<h2>Fetches data from the database.</h2>
<pre>get(string $table, string $values, string $criterion) : mixed[]</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>The method accepts a table name as the first argument followed by a string of
comma separated column names and a criterion string to be supplied to the 'WHERE' clause of the SQL query.
Data is returned in the form of a linear array of associative arrays.
Each element of the linear array represents a row fetched by the query on the database.
Each associative array represents a set of values for a particular row.
The keys of these arrays are the field names and the values, their corresponding values.</p>

<pre><code>$resultset=Database::get('table_name','column_names','criterion');
</code></pre></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$table</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$values</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$criterion</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed[]</code></div>
</div></div>
</div>
<a id="method_getPrefix"></a><div class="element clickable method public method_getPrefix" data-toggle="collapse" data-target=".method_getPrefix .collapse">
<h2>Fetches the database prefix.</h2>
<pre>getPrefix() : string</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Fetches the prefix defined in the configuration file for the database schema.</p>

<pre><code>$pre=Database::getPrefix();
</code></pre></div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_query"></a><div class="element clickable method public method_query" data-toggle="collapse" data-target=".method_query .collapse">
<h2>Executes a user-specified query on the database.</h2>
<pre>query(string $query) : object</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>This method accepts a raw query and executes it on the database.
However since the method is unaware of the type of data returned by the database server,
it returns a handler for the processed query. The handler can be used to fetch rows from the
database using the mysql_fetch_array() or mysql_fetch_assoc() methods.</p>

<pre><code>$link=Database::query();
$rows=array();
while($row=mysql_fetch_assoc($link)) array_push($rows,$row);
</code></pre></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$query</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>object</code></div>
</div></div>
</div>
<a id="method_remove"></a><div class="element clickable method public method_remove" data-toggle="collapse" data-target=".method_remove .collapse">
<h2>Deletes data from the database.</h2>
<pre>remove(string $table, string $match) : boolean</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>The method accepts a table name and a criterion string based on which it will perform deletions.
The return value is that returned by the mysql_query() method.</p>

<pre><code>Database::remove('table_name','criterion');
</code></pre></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$table</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$match</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_update"></a><div class="element clickable method public method_update" data-toggle="collapse" data-target=".method_update .collapse">
<h2>Updates data in the database.</h2>
<pre>update(string $table, string[] $fields, string[] $data, string $criterion) : boolean</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>The method accepts a table name followed by two string arrays containing
the field names and their corresponding values, and a criterion string.
The criterion string is directly used in the 'WHERE' clause of the query.
The method returns the value returned by the mysql_query() method.</p>

<pre><code>$cols=array('col_1','col_2');
$vals=array('val_1','val_2');
Database::update('table_name',$cols,$vals,'criterion');
</code></pre></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$table</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$fields</h4>
<code>string[]</code>
</div>
<div class="subelement argument">
<h4>$data</h4>
<code>string[]</code>
</div>
<div class="subelement argument">
<h4>$criterion</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<h3>
<i class="icon-custom icon-property"></i> Properties</h3>
<a id="property_con"> </a><div class="element clickable property private property_con" data-toggle="collapse" data-target=".property_con .collapse">
<h2>The database connection object.</h2>
<pre>$con : object</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"><p>Contains the database handler returned by the mysql_connect() method.</p></div></div></div>
</div>
<a id="property_prefix"> </a><div class="element clickable property private property_prefix" data-toggle="collapse" data-target=".property_prefix .collapse">
<h2>The database prefix.</h2>
<pre>$prefix : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"><p>The prefix used for all tables in the database.
This prefix is automatically prepended to the names of tables and views before querying on the database.</p></div></div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.0.0a10</a> and<br>
            generated on 2012-11-04T15:53:07+05:30.<br></footer></div>
</div>
</body>
</html>
